name: CI/CD Hello World Pipeline

on:
  push:
    branches: [ main ]
  workflow_dispatch:  # Allows manual triggering

jobs:
  build-and-test:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      
    - name: Setup Node.js (if needed)
      uses: actions/setup-node@v3
      with:
        node-version: '18'
        
    - name: Run Hello World script
      id: hello
      run: |
        echo "ðŸš€ Starting Hello World Pipeline"
        echo "Current directory: $(pwd)"
        echo "Files in repo:"
        ls -la
        
    - name: Create artifact
      run: echo "Hello World from GitHub Actions!" > hello-world.txt
      
    - name: Upload artifact
      uses: actions/upload-artifact@v3
      with:
        name: hello-world-output
        path: hello-world.txt
        
  deploy:
    runs-on: ubuntu-latest
    needs: build-and-test
    
    steps:
    - name: Download artifact
      uses: actions/download-artifact@v3
      with:
        name: hello-world-output
        
    - name: Display deployment message
      run: |
        echo "âœ… Deployment Phase"
        echo "Hello World deployment complete!"
        cat hello-world.txt
